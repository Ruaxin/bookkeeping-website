{"version":3,"sources":["icons sync /.svg$","icons/chart.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/tag.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","views/Money/TagsSection.tsx","components/Input.tsx","views/Money/NoteSection.tsx","views/Money/CategorySection.tsx","views/Money/NumberPadSection/Wrapper.tsx","views/Money/NumberPadSection/generateOutput.tsx","views/Money/NumberPadSection.tsx","hooks/useRecords.tsx","views/Money.tsx","components/Button.tsx","components/Center.tsx","views/Tags.tsx","views/Statistics.tsx","views/NoMatch.tsx","components/Space.tsx","views/Tag.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","children","className","rest","cs","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","exact","Wrapper","div","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","defaultProps","parseInt","window","localStorage","getItem","createId","setItem","JSON","stringify","useUpdate","fn","dependency","count","useTags","useState","tags","setTags","localTags","parse","length","findTag","filter","tag","findTagIndex","result","i","updateTag","deleteTag","addTag","tagName","prompt","getName","t","section","TagsSection","selectedTagIds","value","key","onClick","tagId","indexOf","onChange","Label","label","Input","NoteSection","note","type","placeholder","target","CategorySection","categoryMap","categoryList","category","c","temp1","temp2","temp3","temp4","sum","NumberPadSection","toString","output","_setOutput","text","textContent","split","concat","newOutput","slice","parseFloat","setOutput","res","generateOutput","onOk","useRecords","records","setRecords","addRecord","newRecord","amount","alert","tagIds","record","createAt","Date","toISOString","MyLayout","CategoryWrapper","defaultFormData","Money","selected","setSelected","obj","Button","button","Center","TagList","ol","Space","Tags","Item","Header","h3","Statistics","setCategory","selectedRecords","r","hash","day","format","push","array","entries","sort","a","b","date","reduce","span","index","NoMatch","Topbar","header","InputWrapper","Tag","idString","useParams","history","back","tagContent","AppWrapper","App","path","from","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2658b9c7.chunk.js","sourcesContent":["var map = {\n\t\"./chart.svg\": 37,\n\t\"./left.svg\": 38,\n\t\"./money.svg\": 39,\n\t\"./right.svg\": 40,\n\t\"./tag.svg\": 41\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 36;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><defs><style></style></defs><path d=\\\"M727.2 413.4h75.1c24.9 0 45 20.2 45 45v255.2c0 24.9-20.2 45-45 45h-75.1c-24.9 0-45-20.2-45-45V458.4c0-24.9 20.1-45 45-45z\\\" fill=\\\"#FFEE91\\\" /><path d=\\\"M779.8 413.4v255.2c0 12.5-10 22.5-22.5 22.5h-75.1v22.5c0 25 20.1 45 45 45h75.1c25 0 45-20.1 45-45V458.4c0-25-20.1-45-45-45h-22.5z\\\" fill=\\\"#F9D151\\\" /><path d=\\\"M216.7 173.1h75.1c24.9 0 45 20.2 45 45v495.5c0 24.9-20.2 45-45 45h-75.1c-24.9 0-45-20.2-45-45V218.2c0-24.9 20.2-45.1 45-45.1z\\\" fill=\\\"#B0FA90\\\" /><path d=\\\"M472 293.2h75c24.9 0 45 20.2 45 45v375.4c0 24.9-20.2 45-45 45h-75c-24.9 0-45-20.2-45-45V338.3c-.1-24.9 20.1-45.1 45-45.1z\\\" fill=\\\"#91DDFF\\\" /><path d=\\\"M96.9 826.2c-12.4-.2-22.7 9.8-22.8 22.2-.2 12.4 9.8 22.7 22.2 22.8H922c12.4.2 22.7-9.8 22.8-22.2.2-12.4-9.8-22.7-22.2-22.8h-.6c-265 .1-560 0-825.1 0z\\\" fill=\\\"#444852\\\" /><path d=\\\"M269.3 173.1v495.5c0 12.5-10 22.5-22.5 22.5h-75.1v22.5c0 25 20.1 45 45 45h75.1c25 0 45-20.1 45-45V218.2c0-25-20.1-45-45-45h-22.5z\\\" fill=\\\"#95E55F\\\" /><path d=\\\"M216.7 150.6c-37 0-67.6 30.5-67.6 67.6v495.5c0 37 30.5 67.6 67.6 67.6h75.1c37 0 67.6-30.5 67.6-67.6V218.2c0-37-30.5-67.6-67.6-67.6h-75.1zm0 45.1h75.1c12.9 0 22.5 9.7 22.5 22.5v495.5c0 12.9-9.7 22.5-22.5 22.5h-75.1c-12.9 0-22.5-9.7-22.5-22.5V218.2c0-12.9 9.7-22.5 22.5-22.5z\\\" fill=\\\"#444852\\\" /><path d=\\\"M524.5 293.2v375.4c0 12.5-10 22.5-22.5 22.5h-75.1v22.5c0 25 20.1 45 45 45H547c25 0 45-20.1 45-45V338.3c0-25-20.1-45-45-45h-22.5z\\\" fill=\\\"#52C7FC\\\" /><path d=\\\"M472 270.7c-37 0-67.6 30.5-67.6 67.6v375.4c0 37 30.5 67.6 67.6 67.6h75c37 0 67.6-30.5 67.6-67.6V338.3c0-37-30.5-67.6-67.6-67.6h-75zm0 45.1h75c12.9 0 22.5 9.7 22.5 22.5v375.4c0 12.9-9.7 22.5-22.5 22.5h-75c-12.9 0-22.5-9.7-22.5-22.5V338.3c0-12.9 9.6-22.5 22.5-22.5zm255.2 75c-37 0-67.6 30.5-67.6 67.6v255.2c0 37 30.5 67.6 67.6 67.6h75.1c12.4.2 22.7-9.8 22.8-22.2.2-12.4-9.8-22.7-22.2-22.8h-75.7c-12.9 0-22.5-9.7-22.5-22.5V458.4c0-12.9 9.7-22.5 22.5-22.5h75.1c12.4.2 22.7-9.8 22.8-22.2s-9.8-22.7-22.2-22.8h-75.7z\\\" fill=\\\"#444852\\\" /><path d=\\\"M786.6 461.3c-16.2.6-25.1 19.2-15.2 32.1l44.4 61.2h-28.1c-27.1-.4-27.1 40.4 0 40h39.7v26.7h-39.7c-27.1-.4-27.1 40.4 0 40h39.7V681c-.4 27.1 40.4 27.1 40 0v-19.7h39.7c27.1.4 27.1-40.4 0-40h-39.7v-26.7h39.7c27.1.4 27.1-40.4 0-40H879l44.4-61.2c9.8-13.1.6-31.8-15.8-32-6.6-.1-12.8 3.1-16.6 8.5l-43.7 60.2-43.7-60.2c-3.7-5.6-10.2-8.8-17-8.6z\\\" fill=\\\"#444852\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M330.667 512a35.84 35.84 0 0011.52 26.453l235.52 220.587a35.84 35.84 0 1049.066-52.48L419.413 512l207.36-194.56a35.84 35.84 0 10-49.066-52.48L341.333 484.267A35.84 35.84 0 00330.667 512zM512 0a512 512 0 10512 512A512 512 0 00512 0zm0 72.107A439.467 439.467 0 01682.667 916.48a439.467 439.467 0 01-482.134-715.947 438.613 438.613 0 01311.04-128z\\\" fill=\\\"#5E5C5C\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M253.1 845.9h622c9.3 0 16.8 7.5 16.8 16.8v67.2c0 9.3-7.5 16.8-16.8 16.8h-622c-9.3 0-16.8-7.5-16.8-16.8v-67.2c0-9.3 7.5-16.8 16.8-16.8zM185.8 417.2a327.8 327.8 0 10655.6 0 327.8 327.8 0 10-655.6 0z\\\" fill=\\\"#FFEE91\\\" /><path d=\\\"M714.4 158.6c44.1 57.2 68.1 127.5 68.2 199.7 0 181-146.8 327.8-327.8 327.8C382 686 311.4 661.7 254 617c62 80.7 157.9 128 259.6 128 181 0 327.8-146.8 327.8-327.8-.1-101.1-47-196.6-127-258.6z\\\" fill=\\\"#F9D151\\\" /><path d=\\\"M152.2 745h622c9.3 0 16.8 7.5 16.8 16.8V829c0 9.3-7.5 16.8-16.8 16.8h-622c-9.3 0-16.8-7.5-16.8-16.8v-67.2c0-9.3 7.5-16.8 16.8-16.8z\\\" fill=\\\"#FFEE91\\\" /><path d=\\\"M681.7 745v100.9h92.5c9.3 0 16.8-7.5 16.8-16.8v-67.2c0-9.3-7.5-16.8-16.8-16.8l-92.5-.1zm-521.1 0H211v100.9h-50.4V745zm117.7 0h67.2v100.9h-67.2V745zm100.8 100.9h67.2v100.9h-67.2V845.9zm134.5 0h67.2v100.9h-67.2V845.9zm269 0v100.9h92.5c9.3 0 16.8-7.5 16.8-16.8v-67.2c0-9.3-7.5-16.8-16.8-16.8l-92.5-.1z\\\" fill=\\\"#F9D151\\\" /><path d=\\\"M513.6 64.2c-194.7 0-353 158.3-353 353s158.3 353 353 353h252.1v75.6c0 13.9 11.3 25.2 25.2 25.2h75.6v50.4h-605v-75.6c0-13.9-11.3-25.2-25.2-25.2h-75.6v-50.4h92.5c13.9.2 25.4-10.9 25.6-24.9.2-13.9-10.9-25.4-24.9-25.6H152.2c-22.8 0-42 19.2-42 42v67.2c0 22.8 19.2 42 42 42H211v58.8c0 22.8 19.2 42 42 42h622c22.8 0 42-19.2 42-42v-67.2c0-22.8-19.2-42-42-42h-58.8v-58.8c0-22.8-19.2-42-42-42H513.6C346.2 719.8 211 584.6 211 417.2s135.2-302.6 302.6-302.6 302.6 135.2 302.6 302.6c0 89.4-38.6 169.4-100 224.8-10.5 9.1-11.7 25-2.6 35.6 9.1 10.5 25 11.7 35.6 2.6.3-.2.5-.5.8-.7 71.6-64.6 116.7-158.3 116.7-262.3-.1-194.6-158.4-353-353.1-353zM320.3 820.7c-13.9-.2-25.4 10.9-25.6 24.9-.2 13.9 10.9 25.4 24.9 25.6h387.3c13.9.2 25.4-10.9 25.6-24.9.2-13.9-10.9-25.4-24.9-25.6H320.3z\\\" fill=\\\"#444852\\\" /><path d=\\\"M437.1 266c-20.5.7-31.6 24.2-19.2 40.5l55.9 77.2h-35.4c-34.1-.5-34.1 50.9 0 50.4h50.1v33.6h-50.1c-34.1-.5-34.1 50.9 0 50.4h50.1v24.8c-.5 34.1 50.9 34.1 50.4 0v-24.8H589c34.1.5 34.1-50.9 0-50.4h-50.1v-33.6H589c34.1.5 34.1-50.9 0-50.4h-35.4l55.9-77.2c12.4-16.5.7-40.1-19.9-40.3-8.3-.1-16.1 3.9-20.9 10.7l-55 75.9-55-75.9c-4.9-7.1-13.1-11.2-21.6-10.9z\\\" fill=\\\"#FFF\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M684.57 450.07l-.134.133L339.43 105.197l-61.863 61.864 345.005 345.006L277.7 856.939l61.864 61.864L684.436 573.93l61.863-61.863.134-.134z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style></style></defs><path d=\\\"M411.705 1024a118.442 118.442 0 01-83.798-34.644L34.762 696.21a118.442 118.442 0 010-167.596L528.074 35.303A118.442 118.442 0 01624.901.66l263.534 29.61A118.442 118.442 0 01992.96 134.795l29.61 263.83a118.442 118.442 0 01-33.755 96.826L495.503 989.356A118.442 118.442 0 01411.705 1024zM611.576 59.88a59.221 59.221 0 00-41.75 17.47L76.808 570.662a59.221 59.221 0 000 83.502l293.145 293.145a59.221 59.221 0 0083.502 0l494.2-493.312a59.221 59.221 0 0017.174-48.266l-29.61-263.83a59.221 59.221 0 00-53.003-52.41L618.387 59.88z\\\" fill=\\\"#6B400D\\\" /><path d=\\\"M194.66 578.065l302.323-302.028a45.304 45.304 0 0143.528-8.883l129.99 29.61a79.652 79.652 0 0155.964 56.26l31.683 129.991a45.304 45.304 0 01-10.067 43.527L446.053 829.755a59.221 59.221 0 01-79.356-10.66L205.319 657.42a59.221 59.221 0 01-10.66-79.356z\\\" fill=\\\"#FFC824\\\" /><path d=\\\"M681.16 490.714a148.053 148.053 0 01-140.353-193.95 29.61 29.61 0 0156.26 18.655 88.832 88.832 0 10173.222 27.834 88.832 88.832 0 00-76.1-88.832 29.61 29.61 0 018.588-59.22 148.053 148.053 0 0183.205 251.097 148.053 148.053 0 01-104.821 44.416z\\\" fill=\\\"#6B400D\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\r\nimport cs from 'classnames';\r\n\r\n//import整个icons文件夹\r\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\r\ntry {importAll(require.context('icons', true, /\\.svg$/));} catch (error) {console.log(error);}\r\n\r\n\r\ntype Props = {\r\n  name?: string\r\n} & React.SVGAttributes<SVGElement>\r\n\r\nconst Icon = (props: Props) => {\r\n  const {name, children, className, ...rest} = props\r\n  return (\r\n    <svg className={cs('icon', className)} {...rest}>\r\n      {props.name && <use xlinkHref={'#' + props.name}/>}\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Icon;","import styled from 'styled-components';\nimport {NavLink} from 'react-router-dom';\nimport React from 'react';\nimport Icon from './Icon';\n\nconst NavWrapper = styled.nav`\n  background: white;\n  line-height: 24px;\n  box-shadow: 0 0 3px rgba(0,0,0,0.25);\n  > ul{\n    display: flex;\n    > li{\n      width: 33.33%;\n      text-align: center;\n      > a{\n        padding: 4px 0;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        .icon{\n          width: 24px;\n          height: 24px;\n        }\n        &.selected{\n          color: rgb(255,200,36);\n          box-shadow: 0 0, 0 -1px rgba(0,0,0,0.25);\n        }\n      }\n    }\n  }\n`;\n\nconst Nav = () => {\n  return (\n    <NavWrapper>\n      <ul>\n        <li>\n          <NavLink to=\"/money\" activeClassName=\"selected\">\n            <Icon name='money'/>\n            记账\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/tags\" exact activeClassName=\"selected\">\n            <Icon name='tag'/>\n            标签\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/statistics\" activeClassName=\"selected\">\n            <Icon name='chart'/>\n            统计\n          </NavLink>\n        </li>\n      </ul>\n    </NavWrapper>\n  );\n};\nexport default Nav;","import Nav from './Nav';\r\nimport React, {useEffect, useRef} from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nconst Main = styled.div`\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n`;\r\n\r\ntype Props = {\r\n  className?: string;\r\n  scrollTop?: number;\r\n}\r\n\r\nconst Layout: React.FC<Props> = (props) => {\r\n  const mainRef = useRef<HTMLDivElement>(null);\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      if (!mainRef.current) {return;}\r\n      mainRef.current.scrollTop = props.scrollTop!;//!表示一定不为空\r\n    }, 0);//先加载完内容才有滚动框\r\n  }, [props.scrollTop]);\r\n  return (\r\n    <Wrapper>\r\n      {/*能接受styled的class*/}\r\n      <Main ref={mainRef} className={props.className}>\r\n        {props.children}\r\n      </Main>\r\n      <Nav/>\r\n    </Wrapper>\r\n  );\r\n};\r\n//给初始值\r\nLayout.defaultProps = {\r\n  scrollTop: 0\r\n};\r\n\r\nexport default Layout;","let id = parseInt(window.localStorage.getItem('idMax') || '0');\r\nconst createId = () => {\r\n  id += 1;\r\n  window.localStorage.setItem('idMax', JSON.stringify(id));\r\n  return id;\r\n};\r\nexport {createId};","import {useEffect, useRef} from 'react';\r\n\r\nconst useUpdate = (fn: () => void, dependency: any[]) => {\r\n  const count = useRef(0);\r\n  useEffect(() => {\r\n    count.current += 1;\r\n  });\r\n  useEffect(() => {\r\n    if (count.current > 1) {\r\n      fn();\r\n    }\r\n  }, [fn, dependency]);\r\n};\r\nexport {useUpdate};","import {useEffect, useState} from 'react';\nimport {createId} from 'lib/createId';\nimport {useUpdate} from './useUpdate';\n\nconst useTags = () => {//封装一个自定义Hook\n  const [tags, setTags] = useState<{ id: number; name: string }[]>([]);\n  useEffect(() => {\n    let localTags = JSON.parse(window.localStorage.getItem('tags') || '[]');\n    if (localTags.length === 0) {\n      localTags = [\n        {id: createId(), name: '衣'},\n        {id: createId(), name: '食'},\n        {id: createId(), name: '住'},\n        {id: createId(), name: '行'},\n      ];\n    }\n    setTags(localTags);\n  }, []);//组件挂载时执行\n  useUpdate(() => {\n    window.localStorage.setItem('tags', JSON.stringify(tags));\n  }, tags);\n  const findTag = (id: number) => {\n    return tags.filter(tag => tag.id === id)[0];\n  };\n  const findTagIndex = (id: number) => {\n    let result = -1;\n    for (let i = 0; i < tags.length; i++) {\n      if (tags[i].id === id) {\n        result = i;\n        break;\n      }\n    }\n    return result;\n  };\n  const updateTag = (id: number, {name}: { name: string }) => {\n    setTags(tags.map(tag => tag.id === id ? {id, name} : tag));\n  };\n  const deleteTag = (id: number) => {\n    setTags(tags.filter(tag => tag.id !== id));\n  };\n  const addTag = () => {\n    const tagName = window.prompt('请输入标签');\n    if (tagName !== null && tagName !== '') {\n      setTags([...tags, {id: createId(), name: tagName}]);\n    }\n  };\n  const getName = (id: number) => {\n    const tag = tags.filter(t => t.id === id)[0];\n    return tag ? tag.name : '';\n  };\n  return {tags, setTags, findTag, findTagIndex, updateTag, deleteTag, addTag, getName};\n};\n\nexport {useTags};","import styled from 'styled-components';\nimport React from 'react';\nimport {useTags} from 'hooks/useTags';\n\nconst Wrapper = styled.section`\n  background: #ffffff;\n  padding: 12px 16px;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: flex-start;\n  > ol{\n    margin: 0 -12px;\n    > li{\n      border-radius: 18px;\n      background: rgb(245, 221, 175);\n      display: inline-block;\n      font-size: 14px;\n      padding: 3px 18px;\n      margin: 8px 12px;\n      &.selected{\n        background: rgb(255, 161, 105);\n      }\n    }\n  }\n  > button{\n    background: none;\n    border: none;\n    border-bottom: 1px solid #333333;\n    padding: 2px 4px;\n    color: #666666;\n    margin-top: 8px;\n  }\n`;\n\ntype Props = {\n  value: number[];\n  onChange: (selected: number[]) => void;\n}\n\nconst TagsSection: React.FC<Props> = (props) => {\n  const {tags, addTag} = useTags();\n  const selectedTagIds = props.value;\n\n  const onToggleTag = (tagId: number) => {\n    const index = selectedTagIds.indexOf(tagId);\n    if (index >= 0) {\n      //如果tag已被选中，就复制所有没有的被选中的tag，作为的selectedTag\n      props.onChange(selectedTagIds.filter(t => t !== tagId));\n    } else {\n      props.onChange([...selectedTagIds, tagId]);\n    }\n  };\n  const getClass = (tagId: number) => selectedTagIds.indexOf(tagId) >= 0 ? 'selected' : '';\n  return (\n    <Wrapper>\n      <ol>\n        {tags.map(tag =>\n          <li key={tag.id}\n              onClick={() => {onToggleTag(tag.id);}}\n              className={getClass(tag.id)}>\n            {tag.name}\n          </li>\n        )}\n      </ol>\n      <button onClick={addTag}>新增标签</button>\n    </Wrapper>\n  );\n};\n\nexport {TagsSection};","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Label = styled.label`\r\n    display: flex;\r\n    align-items: center;\r\n    > span{\r\n      margin-right: 16px;\r\n      white-space: nowrap;\r\n    }\r\n    > input{\r\n      display: block;\r\n      width: 100%;\r\n      height: 44px;\r\n      background: none;\r\n      border: none;\r\n    }\r\n`;\r\n\r\ntype Props = {\r\n  label: string;\r\n} & React.InputHTMLAttributes<HTMLInputElement>\r\n\r\nconst Input: React.FC<Props> = (props) => {\r\n  const {label, children, ...rest} = props;\r\n  return (\r\n    <Label>\r\n      <span>{props.label}</span>\r\n      <input{...rest}/>\r\n    </Label>\r\n  );\r\n};\r\n\r\nexport {Input};","import styled from 'styled-components';\r\nimport React, {ChangeEventHandler} from 'react';\r\nimport {Input} from 'components/Input';\r\n\r\nconst Wrapper = styled.section`\r\n  background: #f5f5f5;\r\n  padding: 14px 16px;\r\n  font-size: 14px;  \r\n\r\n`;\r\n\r\ntype Props = {\r\n  value: string;\r\n  onChange: (value: string) => void;\r\n}\r\n\r\nconst NoteSection: React.FC<Props> = (props) => {\r\n  const note = props.value;\r\n  const onChange: ChangeEventHandler<HTMLInputElement> = (e) => {\r\n    props.onChange(e.target.value);\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <label>\r\n        <Input label='备注'\r\n               type='text'\r\n               placeholder='请填写备注'\r\n               value={note}\r\n               onChange={onChange}\r\n        />\r\n      </label>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport {NoteSection} ;","import styled from 'styled-components';\r\nimport React, {useState} from 'react';\r\n\r\nconst Wrapper = styled.section`\r\n  font-size: 24px;\r\n  > ul{\r\n    display: flex;\r\n    > li{\r\n      width: 50%;\r\n      text-align: center;\r\n      padding: 16px 0;\r\n      position: relative;\r\n      &.selected::after{\r\n        content: '';\r\n        height: 3px;\r\n        width: 100%;\r\n        background: black;\r\n        display: block; \r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 0;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  value: '-' | '+';\r\n  onChange: (value: '-' | '+') => void;\r\n}\r\n\r\nconst CategorySection: React.FC<Props> = (props) => {\r\n  const categoryMap = {'-': '支出', '+': '收入'};\r\n  const [categoryList] = useState<('-' | '+')[]>(['-', '+']);\r\n  const category = props.value;\r\n  return (\r\n    <Wrapper>\r\n      <ul>\r\n        {categoryList.map(c =>\r\n          <li key={c} className={category === c ? 'selected' : ''}\r\n              onClick={() => props.onChange(c)}>\r\n            {categoryMap[c]}\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport {CategorySection};","import styled from 'styled-components';\r\n\r\nconst Wrapper = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  > .output{\r\n    background: white;\r\n    font-size: 36px;\r\n    line-height: 72px;\r\n    text-align: right;\r\n    padding: 0 16px;\r\n    box-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.25),\r\n                inset 0 5px 5px -5px rgba(0,0,0,0.25);\r\n  }\r\n  > .pad{\r\n    > button{\r\n      font-size: 18px;\r\n      float: left;\r\n      width: 20%;\r\n      height: 64px;\r\n      border: none;\r\n      &.ok{\r\n        float: right;\r\n        height: 128px;\r\n      }\r\n      &:nth-child(1){\r\n        background: rgba(245, 221, 175);\r\n      }\r\n      &:nth-child(2),\r\n      &:nth-child(6){\r\n        background: rgba(242, 210, 123);\r\n      }\r\n      &:nth-child(3),\r\n      &:nth-child(7),\r\n      &:nth-child(11){\r\n        background: rgba(240, 207, 94);\r\n      }\r\n      &:nth-child(4),\r\n      &:nth-child(8),\r\n      &:nth-child(12),\r\n      &:nth-child(16){\r\n        background: rgba(239, 198, 84);\r\n      }\r\n      &:nth-child(5),\r\n      &:nth-child(9),\r\n      &:nth-child(13),\r\n      &:nth-child(17){\r\n        background: rgba(238, 170, 63);\r\n      }\r\n      &:nth-child(10),\r\n      &:nth-child(14),\r\n      &:nth-child(18){\r\n        background: rgba(239, 157, 55);\r\n      }\r\n      &:nth-child(15){\r\n        background: rgba(233, 117, 43);\r\n      }\r\n      &:nth-child(19){\r\n        background: rgba(228, 132, 46);\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport {Wrapper}","let temp1 = 0;\r\nlet temp2 = 0;\r\nlet temp3 = 0;\r\nlet temp4 = 0;\r\nlet sum = 0;\r\nconst generateOutput = (text: string, output = '0') => {\r\n  switch (text) {\r\n    case '0':\r\n    case '1':\r\n    case '2':\r\n    case '3':\r\n    case '4':\r\n    case '5':\r\n    case '6':\r\n    case '7':\r\n    case '8':\r\n    case '9':\r\n      if (output === '0') {\r\n        return (text);\r\n      } else {\r\n        return (output + text);\r\n      }\r\n    case '.':\r\n      if (output.indexOf('.') >= 0) {return output;}\r\n      console.log(output + '.');\r\n      return (output + '.');\r\n    case '删除':\r\n      if (output.length === 1) {\r\n        return '';\r\n      } else {\r\n        return (output.slice(0, -1)) || '';\r\n      }\r\n    case '清空':\r\n      return '';\r\n    case 'OK':\r\n      return '';\r\n    case '+':\r\n      if (output !== '0') {\r\n        temp1 = parseInt(output);\r\n      }\r\n      return '';\r\n    case '-':\r\n      if (output !== '0') {\r\n        temp2 = parseInt(output);\r\n      }\r\n      return '';\r\n    case '×':\r\n      if (output !== '0') {\r\n        temp3 = parseInt(output);\r\n      }\r\n      return '';\r\n    case '÷':\r\n      if (output !== '0') {\r\n        temp4 = parseInt(output);\r\n      }\r\n      return '';\r\n    case '=':\r\n      if (temp1) {\r\n        sum += temp1 + parseInt(output);\r\n      } else if (temp2) {\r\n        sum += temp2 - parseInt(output);\r\n      } else if (temp3) {\r\n        sum += temp3 * parseInt(output);\r\n      } else if (temp4) {\r\n        sum += temp4 / parseInt(output);\r\n      }\r\n      const res = sum.toString();\r\n      sum = 0;\r\n      temp1 = 0;\r\n      temp2 = 0;\r\n      temp3 = 0;\r\n      temp4 = 0;\r\n      return (res);\r\n    default:\r\n      return '';\r\n  }\r\n};\r\n\r\nexport {generateOutput};","import React, {useState} from 'react';\nimport {Wrapper} from './NumberPadSection/Wrapper';\nimport {generateOutput} from './NumberPadSection/generateOutput';\n\ntype Props = {\n  value: number;\n  onChange: (value: number) => void;\n  onOk?: () => void;\n}\n\nconst NumberPadSection: React.FC<Props> = (props) => {\n  const [output, _setOutput] = useState(props.value.toString());\n  const setOutput = (output: string) => {\n    let newOutput: string;\n    if (output.length > 16) {\n      newOutput = output.slice(0, 16);\n    } else if (output.length === 0) {\n      newOutput = '0';\n    } else {\n      newOutput = output;\n    }\n    _setOutput(newOutput);\n    props.onChange(parseFloat(newOutput));\n  };\n  const onClickButtonWrapper = (e: React.MouseEvent) => {\n    const text = (e.target as HTMLButtonElement).textContent;\n    if (text === null) {return;}\n    if (text === 'OK') {\n      if (props.onOk) {\n        props.onOk();\n      }\n      return;\n    }\n    if ('0123456789.+-×÷='.split('').concat(['删除', '清空']).indexOf(text) >= 0) {\n      setOutput(generateOutput(text, output));\n    }\n  };\n  return (\n    <Wrapper>\n      <div className='output'>{output}</div>\n      <div className=\"pad clearfix\" onClick={onClickButtonWrapper}>\n        <button>1</button>\n        <button>2</button>\n        <button>3</button>\n        <button>+</button>\n        <button>删除</button>\n        <button>4</button>\n        <button>5</button>\n        <button>6</button>\n        <button>-</button>\n        <button>清空</button>\n        <button>7</button>\n        <button>8</button>\n        <button>9</button>\n        <button>×</button>\n        <button className='ok'>OK</button>\n        <button>0</button>\n        <button>.</button>\n        <button>=</button>\n        <button>÷</button>\n      </div>\n    </Wrapper>\n  );\n};\nexport {NumberPadSection};","import {useEffect, useState} from 'react';\r\nimport {useUpdate} from './useUpdate';\r\n\r\nexport type RecordItem = {\r\n  tagIds: number[];\r\n  note: string;\r\n  category: '+' | '-';\r\n  amount: number;\r\n  createAt: string //ISO 8601\r\n}\r\ntype newRecordItem = Omit<RecordItem, 'createAt'>\r\n\r\nconst useRecords = () => {\r\n  const [records, setRecords] = useState<RecordItem[]>([]);\r\n  useEffect(() => {\r\n    setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'));\r\n  }, []);\r\n  useUpdate(() => {\r\n    window.localStorage.setItem('records', JSON.stringify(records));\r\n  }, records);\r\n  const addRecord = (newRecord: newRecordItem) => {\r\n    if (newRecord.amount <= 0) {\r\n      alert('金额不能为 0');\r\n      return false;\r\n    }\r\n    if (newRecord.tagIds.length === 0) {\r\n      alert('请选择标签');\r\n      return false;\r\n    }\r\n    const record = {...newRecord, createAt: (new Date()).toISOString()};\r\n    setRecords([...records, record]);\r\n    return true;\r\n  };\r\n  return {records, addRecord};\r\n};\r\n\r\nexport {useRecords};","import Layout from 'components/Layout';\r\nimport React, {useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport {TagsSection} from './Money/TagsSection';\r\nimport {NoteSection} from './Money/NoteSection';\r\nimport {CategorySection} from './Money/CategorySection';\r\nimport {NumberPadSection} from './Money/NumberPadSection';\r\nimport {useRecords} from 'hooks/useRecords';\r\n\r\nconst MyLayout = styled(Layout)`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nconst CategoryWrapper = styled.div`\r\n    background: rgb(255, 130, 0);\r\n`;\r\n\r\ntype Category = '-' | '+'\r\n\r\nconst defaultFormData = {\r\n  tagIds: [] as number[],\r\n  note: '',\r\n  category: '-' as Category,\r\n  amount: 0\r\n};\r\n\r\nfunction Money() {\r\n  const [selected, setSelected] = useState(defaultFormData);\r\n  const {addRecord} = useRecords();\r\n  const onChange = (obj: Partial<typeof selected>) => {\r\n    setSelected({\r\n      ...selected,\r\n      ...obj\r\n    });\r\n  };\r\n  const submit = () => {\r\n    if (addRecord(selected)) {\r\n      alert('保存成功');\r\n    }\r\n    setSelected(defaultFormData);\r\n  };\r\n  return (\r\n    <MyLayout scrollTop={9999}>\r\n      <TagsSection value={selected.tagIds}\r\n                   onChange={tagIds => onChange({tagIds})}\r\n      />\r\n      <NoteSection value={selected.note}\r\n                   onChange={note => onChange({note})}\r\n      />\r\n      <CategoryWrapper>\r\n        <CategorySection value={selected.category}\r\n                         onChange={category => onChange({category})}\r\n        />\r\n      </CategoryWrapper>\r\n      <NumberPadSection value={selected.amount}\r\n                        onChange={amount => onChange({amount})}\r\n                        onOk={submit}\r\n      />\r\n    </MyLayout>\r\n  );\r\n}\r\n\r\nexport default Money;","import styled from 'styled-components';\r\n\r\nconst Button = styled.button`\r\n  font-size: 18px;\r\n  border: none;\r\n  padding: 8px 12px;\r\n  background: #f60;\r\n  border-radius: 25px;\r\n  color: white;\r\n`;\r\n\r\nexport {Button};","import styled from 'styled-components';\r\n\r\nconst Center = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`;\r\nexport {Center};","import Layout from 'components/Layout';\nimport React from 'react';\nimport {useTags} from 'hooks/useTags';\nimport styled from 'styled-components';\nimport Icon from 'components/Icon';\nimport {Link} from 'react-router-dom';\nimport {Button} from 'components/Button';\nimport {Center} from 'components/Center';\n\nconst TagList = styled.ol`\n  font-size: 16px;\n  > li{\n    border-bottom: 1px solid rgb(226, 159, 107);\n    line-height: 20px;\n    background: rgb(240, 207, 94);\n    border-radius: 50px;\n    margin: 12px 16px;\n    > a{\n      padding: 11px 18px 11px 18px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n  }\n`;\nconst Space = styled.div`\n  height: 16px;\n`;\n\nfunction Tags() {\n  const {tags, addTag} = useTags();\n  return (\n    <Layout>\n      <TagList>\n        {tags.map(tag =>\n          <li key={tag.id}>\n            <Link to={'/tags/' + tag.id}>\n              <span className='oneLine'>{tag.name}</span>\n              <Icon name='right'/>\n            </Link>\n          </li>\n        )}\n      </TagList>\n      <Center>\n        <Space/>\n        <Button onClick={addTag}>新增标签</Button>\n      </Center>\n    </Layout>\n  );\n}\n\nexport default Tags;","import Layout from 'components/Layout';\nimport React, {ReactNode, useState} from 'react';\nimport {CategorySection} from './Money/CategorySection';\nimport styled from 'styled-components';\nimport {RecordItem, useRecords} from '../hooks/useRecords';\nimport {useTags} from '../hooks/useTags';\nimport day from 'dayjs';\n\nconst CategoryWrapper = styled.div`\n    background: #f0cf5e;\n`;\nconst Item = styled.div`\n  display: flex;\n  justify-content: space-between;\n  background: white;\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n  > .note{\n    margin-right: auto;\n    margin-left: 16px;\n    color: #999;\n  }\n`;\nconst Header = styled.h3`\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n`;\n\nfunction Statistics() {\n  const [category, setCategory] = useState<'+' | '-'>('-');\n  const {records} = useRecords();\n  const {getName} = useTags();\n  const selectedRecords = records.filter(r => r.category === category);\n  const hash: { [K: string]: RecordItem[] } = {};\n  selectedRecords.forEach(r => {\n    const key = day(r.createAt).format('YYYY年MM月DD日');\n    if (!(key in hash)) {\n      hash[key] = [];\n    }\n    hash[key].push(r);\n  });\n  const array = Object.entries(hash).sort((a, b) => {\n    if (a[0] === b[0]) return 0;\n    if (a[0] > b[0]) return 1;\n    if (a[0] < b[0]) return -1;\n    return 0;\n  });\n  return (\n    <Layout>\n      <CategoryWrapper>\n        <CategorySection value={category}\n                         onChange={value => setCategory(value)}\n        />\n      </CategoryWrapper>\n      {\n        array.map(\n          ([date, records]) => <div key={date}>\n            <Header>{date}</Header>\n            <div>{\n              records.map(r => {\n                return (\n                  <Item key={r.createAt}>\n                    <div className=\"tags oneLine\">\n                      {r.tagIds.map(tagId => <span key={tagId}>{getName(tagId)}</span>)\n                        .reduce((result, span, index, array) =>\n                          result.concat(index < array.length - 1 ? [span, '，'] : [span]), [] as ReactNode[]\n                        )\n                      }\n                    </div>\n                    {r.note && <div className=\"note\">{r.note}</div>}\n                    <div className=\"amount\">\n                      ￥{r.amount}\n                    </div>\n                  </Item>);\n              })\n            }</div>\n          </div>\n        )\n      }\n    </Layout>\n  );\n}\n\nexport default Statistics;","import Layout from 'components/Layout';\r\nimport React from 'react';\r\n\r\n\r\nfunction NoMatch() {\r\n  return (\r\n    <Layout>\r\n      <h2>404</h2>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default NoMatch;\r\n","import styled from 'styled-components';\r\n\r\nconst Space = styled.div`\r\n  height: 16px;\r\n`;\r\n\r\nexport {Space};","import React from 'react';\r\nimport {useTags} from 'hooks/useTags';\r\nimport {useParams} from 'react-router-dom';\r\nimport Layout from 'components/Layout';\r\nimport Icon from 'components/Icon';\r\nimport {Button} from 'components/Button';\r\nimport styled from 'styled-components';\r\nimport {Input} from 'components/Input';\r\nimport {Center} from 'components/Center';\r\nimport {Space} from 'components/Space';\r\n\r\nconst Topbar = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  line-height: 20px;\r\n  padding: 14px;\r\n  align-items: center;\r\n  background: #f0cf5e;\r\n`;\r\nconst InputWrapper = styled.div`\r\n  padding: 0 16px;\r\n  margin-top: 16px;\r\n`;\r\n\r\ntype Params = {\r\n  id: string\r\n}\r\nconst Tag: React.FC = () => {\r\n  const {findTag, updateTag, deleteTag} = useTags();\r\n  //从地址栏获取id\r\n  let {id: idString} = useParams<Params>();\r\n  const tag = findTag(parseInt(idString));\r\n  const tagContent = (tag: { id: number; name: string }) => (\r\n    <div>\r\n      <InputWrapper>\r\n        <Input label='标签名'\r\n               type='text'\r\n               value={tag.name}\r\n               placeholder='请输入标签名'\r\n               onChange={(e) => {\r\n                 updateTag(tag.id, {name: e.target.value});\r\n               }}\r\n        />\r\n      </InputWrapper>\r\n      <Center>\r\n        <Space/>\r\n        <Space/>\r\n        <Space/>\r\n        <Button onClick={() => {deleteTag(tag.id);}}>删除标签</Button>\r\n      </Center>\r\n    </div>\r\n  );\r\n  const onClickBack = () => {\r\n    window.history.back();\r\n  };\r\n  return (\r\n    <Layout>\r\n      <Topbar>\r\n        <Icon name='left' onClick={onClickBack}/>\r\n        <span>编辑标签</span>\r\n        <Icon/>\r\n      </Topbar>\r\n      {tag ? tagContent(tag) : < Center> tag 不存在</Center>}\r\n    </Layout>\r\n  );\r\n};\r\n\r\n\r\nexport {Tag};","import React from 'react';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\nimport Money from 'views/Money';\nimport Tags from 'views/Tags';\nimport Statistics from 'views/Statistics';\nimport NoMatch from 'views/NoMatch';\nimport styled from 'styled-components';\nimport {Tag} from './views/Tag';\n\nconst AppWrapper = styled.div`\n  color: #333333;\n`;\n\nfunction App() {\n  return (\n    <AppWrapper>\n      <Router>\n        <Switch>\n          <Route exact path=\"/money\">\n            <Money/>\n          </Route>\n          <Route exact path=\"/tags\">\n            <Tags/>\n          </Route>\n          <Route exact path=\"/tags/:id\">\n            <Tag/>\n          </Route>\n          <Route exact path=\"/statistics\">\n            <Statistics/>\n          </Route>\n          {/*默认路由*/}\n          <Redirect exact from='/' to='/money'/>\n          {/*404*/}\n          <Route path='*'>\n            <NoMatch/>\n          </Route>\n        </Switch>\n      </Router>\n    </AppWrapper>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss'\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}